import { createClient } from '@supabase/supabase-js'; import dotenv from 'dotenv'; dotenv.config(); const supabaseUrl = process.env.VITE_SUPABASE_URL; const supabaseServiceKey = process.env.SUPABASE_SERVICE_ROLE_KEY || process.env.VITE_SUPABASE_SERVICE_ROLE_KEY; const supabase = createClient(supabaseUrl, supabaseServiceKey); async function updatePost() { const txid = 'aba0284aae55c76270f4b2f80aac694f7afdcf4b5ef1148c8147cba6321fc187'; const updates = { content: 'Ordinal inscription JPEG image', author_address: 'testnet', description: 'JPEG image inscription from testnet block 1660542', media_url: null }; const { error } = await supabase.from('Post').update(updates).eq('id', txid); if (error) { console.error('Error updating post:', error); return; } console.log('Post updated successfully'); const { data: updatedPost, error: fetchError } = await supabase.from('Post').select('*').eq('id', txid).single(); if (fetchError) { console.error('Error fetching updated post:', fetchError); return; } console.log('Updated post data:', updatedPost); } updatePost().catch(console.error);
